---
export function getStaticPaths() {
  return [
    { params: { categoria: "camas" } },
    { params: { categoria: "puertas" } },
    { params: { categoria: "sillas" } },
    { params: { categoria: "comedores" } },
    { params: { categoria: "racks" } },
    { params: { categoria: "mesas" } },
    { params: { categoria: "escritorios" } }
  ];
}

import MainLayout from "../layouts/MainLayout.astro";

type Producto = {
  nombre: string;
  precio: string;
  imagen: string;
};

type Categoria = {
  titulo: string;
  descripcion: string;
  productos: Producto[];
};


// Datos simulados
const categorias: Record<string, Categoria> = {
    camas: {
    titulo: "Camas",
    descripcion: "Descanso natural y duradero.",
    productos: [
      {
      nombre: "Cama King Size",
      precio: "$470.000",
      imagen: "/media/cama.jpg"
      },
      {
        nombre: "Cama Soltero",
        precio: "$170.000",
        imagen: "/media/cama.jpg"
      }
  ]
  },
    mesas: {
    titulo: "Mesas",
    descripcion: "El corazón de tu sala de estar.",
    productos: [
      {
        nombre: "Mesa Ratona Cedro",
        precio: "$150.000",
        imagen: "/media/mesa-de-centro.jpg"
      },
      {
        nombre: "Mesa Ratona Roble",
        precio: "$160.000",
        imagen: "/media/mesa-de-centro.jpg"
      }
  ]
  },
    puertas: {
    titulo: "Puerta",
    descripcion: "Seguridad y elegancia para tu entrada.",
    productos: [
      {
      nombre: "Puerta Entrada Principal",
      precio: "$350.000",
      imagen: "/media/puerta.jpg"
    }
  ]
  },
  racks: {
    titulo: "Racks TV",
    descripcion: "Diseño y funcionalidad para tu entretenimiento.",
    productos: [{
      nombre: "Racks de TV modernos",
      precio: "$200.000",
      imagen: "/media/rack-tv.jpg"
    }
  ]
  },
  sillas: {
    titulo: "Sillas",
    descripcion: "Comodidad y diseño en cada asiento.",
    productos: [{
      nombre: "Silla Nórdica",
      precio: "$100.000",
      imagen: "/media/silla.jpg"
    }
  ]
  },
  escritorios: {
    titulo: "Escritorios",
    descripcion: "Espacios de trabajo inspiradores.",
    productos: [{
      nombre: "Escritorio Home Office",
      precio: "$380.000",
      imagen: "/media/escritorio.jpg"
    }
  ]
  },
  comedores: {
    titulo: "Comedores",
    descripcion: "Mesas y sillas diseñadas para compartir momentos.",
    productos: [{
      nombre: "Comedor Familiar Roble",
      precio: "$120.000",
      imagen: "/media/comedor.jpg"
    }
  ]
  }
};

// Ahora garantizamos que sea string
const categoria = Astro.params.categoria ?? "";

// Buscamos la categoría
const data = categorias[categoria];
---

<MainLayout>
  {data ? (
    <>
      <section class="page-header">
        <div class="container">
          <h1 class="section-title">{data.titulo}</h1>
          <p>{data.descripcion}</p>
        </div>
      </section>

<section class="container">
  <div class="products-grid">
    {data.productos.map((producto) => (
      <article class="prod-card">
        <div class="prod-img-container">
          <img
            src={producto.imagen}
            alt={producto.nombre}
            loading="lazy"
          />
        </div>

        <div class="prod-info">
          <h3 class="prod-name">{producto.nombre}</h3>
          <p class="prod-price">{producto.precio}</p>
        </div>
      </article>
    ))}
  </div>
</section>

      <section id="contacto" class="contact-section">
        <div class="container">
          <h2>¿BUSCAS ALGO A MEDIDA?</h2>
          <p>Hacemos tu {data.titulo.toLowerCase()} a medida.</p>
          <a
            href="https://wa.me/543875037011"
            class="whatsapp-btn"
            target="_blank"
          >
            Consultar Presupuesto
          </a>
        </div>
      </section>
    </>
  ) : (
    <section class="container">
      <h1>Categoría no encontrada</h1>
    </section>
  )}
</MainLayout>
